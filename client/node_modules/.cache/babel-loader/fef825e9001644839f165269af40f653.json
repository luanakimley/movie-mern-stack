{"ast":null,"code":"var _jsxFileName = \"/Users/luanakimley/nodejs-projects/movie-mern-stack/client/src/components/DeleteMovie.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\nimport { SERVER_HOST } from \"../config/global_constants\";\nexport default class DeleteMovie extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirectToHome: false\n    };\n  }\n\n  componentDidMount() {\n    const MySwal = withReactContent(Swal);\n    MySwal.fire({\n      title: \"Are you sure you want to delete this?\",\n      text: \"You won't be able to revert this!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete it!\"\n    }).then(result => {\n      if (result.isConfirmed) {\n        axios.delete(`${SERVER_HOST}/movies/${this.props.match.params.id}`).then(res => {\n          if (res.data) {\n            if (res.data.errorMessage) {\n              console.log(res.data.errorMessage);\n            } // success\n            else {\n              console.log(\"Record deleted\");\n            }\n\n            this.setState({\n              redirectToHome: true\n            });\n          } else {\n            console.log(\"Record not deleted\");\n          }\n        });\n        Swal.fire(\"Deleted!\", \"The movie has been deleted.\", \"success\");\n      } else {\n        this.setState({\n          redirectToHome: true\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, this.state.redirectToHome ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/Home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 41\n      }\n    }) : null);\n  }\n\n}","map":{"version":3,"sources":["/Users/luanakimley/nodejs-projects/movie-mern-stack/client/src/components/DeleteMovie.js"],"names":["React","Component","Redirect","axios","Swal","withReactContent","SERVER_HOST","DeleteMovie","constructor","props","state","redirectToHome","componentDidMount","MySwal","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","delete","match","params","id","res","data","errorMessage","console","log","setState","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,gBAAP,MAA6B,2BAA7B;AAEA,SAASC,WAAT,QAA4B,4BAA5B;AAEA,eAAe,MAAMC,WAAN,SAA0BN,SAA1B,CAAoC;AACjDO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,cAAc,EAAE;AADL,KAAb;AAGD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,MAAM,GAAGR,gBAAgB,CAACD,IAAD,CAA/B;AACAS,IAAAA,MAAM,CAACC,IAAP,CAAY;AACVC,MAAAA,KAAK,EAAE,uCADG;AAEVC,MAAAA,IAAI,EAAE,mCAFI;AAGVC,MAAAA,IAAI,EAAE,SAHI;AAIVC,MAAAA,gBAAgB,EAAE,IAJR;AAKVC,MAAAA,kBAAkB,EAAE,SALV;AAMVC,MAAAA,iBAAiB,EAAE,MANT;AAOVC,MAAAA,iBAAiB,EAAE;AAPT,KAAZ,EAQGC,IARH,CAQSC,MAAD,IAAY;AAClB,UAAIA,MAAM,CAACC,WAAX,EAAwB;AACtBrB,QAAAA,KAAK,CACFsB,MADH,CACW,GAAEnB,WAAY,WAAU,KAAKG,KAAL,CAAWiB,KAAX,CAAiBC,MAAjB,CAAwBC,EAAG,EAD9D,EAEGN,IAFH,CAESO,GAAD,IAAS;AACb,cAAIA,GAAG,CAACC,IAAR,EAAc;AACZ,gBAAID,GAAG,CAACC,IAAJ,CAASC,YAAb,EAA2B;AACzBC,cAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACC,IAAJ,CAASC,YAArB;AACD,aAFD,CAEE;AAFF,iBAGK;AACHC,cAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACD;;AACD,iBAAKC,QAAL,CAAc;AAAEvB,cAAAA,cAAc,EAAE;AAAlB,aAAd;AACD,WARD,MAQO;AACLqB,YAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD;AACF,SAdH;AAeA7B,QAAAA,IAAI,CAACU,IAAL,CAAU,UAAV,EAAsB,6BAAtB,EAAqD,SAArD;AACD,OAjBD,MAiBO;AACL,aAAKoB,QAAL,CAAc;AAAEvB,UAAAA,cAAc,EAAE;AAAlB,SAAd;AACD;AACF,KA7BD;AA8BD;;AAEDwB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,KAAKzB,KAAL,CAAWC,cAAX,gBAA4B,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5B,GAAsD,IAA5D,CADF;AAGD;;AA/CgD","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\n\nimport { SERVER_HOST } from \"../config/global_constants\";\n\nexport default class DeleteMovie extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      redirectToHome: false,\n    };\n  }\n\n  componentDidMount() {\n    const MySwal = withReactContent(Swal);\n    MySwal.fire({\n      title: \"Are you sure you want to delete this?\",\n      text: \"You won't be able to revert this!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete it!\",\n    }).then((result) => {\n      if (result.isConfirmed) {\n        axios\n          .delete(`${SERVER_HOST}/movies/${this.props.match.params.id}`)\n          .then((res) => {\n            if (res.data) {\n              if (res.data.errorMessage) {\n                console.log(res.data.errorMessage);\n              } // success\n              else {\n                console.log(\"Record deleted\");\n              }\n              this.setState({ redirectToHome: true });\n            } else {\n              console.log(\"Record not deleted\");\n            }\n          });\n        Swal.fire(\"Deleted!\", \"The movie has been deleted.\", \"success\");\n      } else {\n        this.setState({ redirectToHome: true });\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div>{this.state.redirectToHome ? <Redirect to=\"/Home\" /> : null}</div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}